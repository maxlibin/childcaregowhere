// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE
'use strict';

var Curry = require("bs-platform/lib/js/curry.js");
var React = require("react");
var Belt_Array = require("bs-platform/lib/js/belt_Array.js");
var ReactLeaflet = require("react-leaflet");
var Header$ChildCareCenter = require("./components/Header.bs.js");
var Search$ChildCareCenter = require("./components/Search.bs.js");
var App_Css$ChildCareCenter = require("./App_Css.bs.js");
var Prelude$ChildCareCenter = require("./helpers/Prelude.bs.js");
var ChildCareT$ChildCareCenter = require("./types/ChildCareT.bs.js");

function App(Props) {
  var match = React.useState((function () {
          return /* Loading */0;
        }));
  var setChildCareCenters = match[1];
  var childCareCenters = match[0];
  React.useEffect((function () {
          fetch("/data/childcare.json").then((function (prim) {
                    return prim.json();
                  })).then((function (json) {
                  Curry._1(setChildCareCenters, (function (param) {
                          return /* Loaded */[ChildCareT$ChildCareCenter.result(json)];
                        }));
                  return Promise.resolve(/* () */0);
                }));
          return undefined;
        }), ([]));
  return React.createElement("div", {
              className: App_Css$ChildCareCenter.app
            }, React.createElement(Header$ChildCareCenter.make, { }), React.createElement("div", {
                  className: App_Css$ChildCareCenter.content
                }, React.createElement("div", {
                      className: App_Css$ChildCareCenter.left
                    }, React.createElement("div", {
                          className: App_Css$ChildCareCenter.title
                        }, Prelude$ChildCareCenter.s(Prelude$ChildCareCenter.Utils[/* title */1])), React.createElement(Search$ChildCareCenter.make, { })), React.createElement("div", {
                      className: App_Css$ChildCareCenter.right
                    }, React.createElement("div", {
                          className: App_Css$ChildCareCenter.centers
                        }, childCareCenters ? Belt_Array.map(childCareCenters[0], (function (center) {
                                  return React.createElement("div", {
                                              key: center[/* centreCode */1] + center[/* tpCode */0],
                                              className: App_Css$ChildCareCenter.center
                                            }, React.createElement("h3", undefined, Prelude$ChildCareCenter.s(center[/* centreName */2])), React.createElement("p", undefined, Prelude$ChildCareCenter.s(center[/* organisationDescription */4])));
                                })) : null))), React.createElement("div", {
                  className: App_Css$ChildCareCenter.map
                }, React.createElement(ReactLeaflet.Map, {
                      center: /* tuple */[
                        1.385270,
                        103.851959
                      ],
                      zoom: 12,
                      children: null
                    }, React.createElement(ReactLeaflet.TileLayer, {
                          url: "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
                          attribution: "&copy; <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors"
                        }), React.createElement(ReactLeaflet.Marker, {
                          position: /* tuple */[
                            51.505,
                            -0.09
                          ],
                          children: React.createElement(ReactLeaflet.Popup, {
                                children: Prelude$ChildCareCenter.s("A pretty CSS3 popup.<br />Easily customizable.")
                              })
                        }))));
}

var Css = 0;

var make = App;

exports.Css = Css;
exports.make = make;
/* react Not a pure module */
